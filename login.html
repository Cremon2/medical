<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log-in</title>
    <style>
        .login {
            display: flex;
            flex-direction: column;
            max-width: 300px;
            margin: 100px auto;
            padding: 20px;
            border: 1px solid #ccc;
            gap: 10px;
        }
    </style>
</head>
<body>
    <main>
        <div class="login">
            <input type="text" id="username" placeholder="Username">
            <input type="password" id="password" placeholder="Password">
            <label>
                <input type="checkbox" id="checkbox"> Show Password
            </label>
            <button id="submit">Login</button>
        </div>
    </main>

    <script>
        const checkbox = document.getElementById('checkbox');
        const passwordInput = document.getElementById('password');
        const submit = document.getElementById('submit');

        // Users: username -> { password, role }
        const users = {
            "mon": { password: "123", role: "admin" },
            "dr.john": { password: "456", role: "doctor" },
            "jane": { password: "789", role: "patient" }
        };

        checkbox.addEventListener('change', function () {
            passwordInput.type = this.checked ? 'text' : 'password';
        });

        submit.addEventListener('click', function () {
            const usernameInput = document.getElementById('username').value.trim();
            const password = passwordInput.value;

            const user = users[usernameInput];

            if (user && user.password === password) {
                console.log("Login successful");

                // Save login status and role
                localStorage.setItem('loggedIn', 'true');
                localStorage.setItem('username', usernameInput);
                localStorage.setItem('role', user.role);

                // Redirect to index.html
                window.location.href = 'index.html';
            } else {
                alert("Wrong credentials");
            }
        });
    </script>
</body>
</html>
